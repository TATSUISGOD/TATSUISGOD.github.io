<button onclick="loadMessages()">メッセージを取得</button>
<ul id="list"></ul>

<script>
async function loadMessages() {
  const { data, error } = await supabase
    .from("messages")
    .select("*");

  if (error) {
    alert(error.message);
    return;
  }

  const list = document.getElementById("list");
  list.innerHTML = "";

  data.forEach(msg => {
    const li = document.createElement("li");
    li.textContent = msg.content;
    list.appendChild(li);
  });
}
</script>
